
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using IFM &mdash; IFM 5.5 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/logo.ico"/>
    <link rel="top" title="IFM 5.5 documentation" href="contents.html" />
    <link rel="next" title="Language" href="language.html" />
    <link rel="prev" title="Mapping and solving example" href="example.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="using-ifm">
<span id="usage"></span><h1>Using IFM<a class="headerlink" href="#using-ifm" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-the-program">
<h2>Running the program<a class="headerlink" href="#running-the-program" title="Permalink to this headline">¶</a></h2>
<p>IFM is run from the command line.  The general form of the command is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ifm</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="p">[</span><span class="n">file</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>On startup, IFM does the following.  Firstly, the system initialization
file is read.  This sets defaults used by everyone.  This file is called
<code class="file docutils literal"><span class="pre">ifm-init.ifm</span></code>, and is found by searching a standard set of
directories.  You can adjust the search path by setting the environment
variable <span class="target" id="index-0"></span><a class="reference internal" href="#envvar-IFMPATH"><code class="xref std std-envvar docutils literal"><span class="pre">IFMPATH</span></code></a>.</p>
<p>Then, if you have a personal initialization file, that is read.  This file
is found in the directory specified by your <span class="target" id="index-1"></span><a class="reference internal" href="#envvar-HOME"><code class="xref std std-envvar docutils literal"><span class="pre">HOME</span></code></a> environment
variable.  It can be called <code class="file docutils literal"><span class="pre">.ifmrc</span></code> or <code class="file docutils literal"><span class="pre">ifm.ini</span></code>; if both
exist, they are both read.  You can use this file to customize the default
variable settings for different types of output.</p>
<p>Then input from the file(s) on the command-line is read.  If no files were
specified, <code class="samp docutils literal"><span class="pre">stdin</span></code> is read.  A filename equal to <code class="file docutils literal"><span class="pre">-</span></code> also
indicates that <code class="samp docutils literal"><span class="pre">stdin</span></code> should be read at that point.</p>
<p>If any of the <code class="xref std std-option docutils literal"><span class="pre">-map</span></code>, <code class="xref std std-option docutils literal"><span class="pre">-items</span></code>, <code class="xref std std-option docutils literal"><span class="pre">-tasks</span></code> or
<code class="xref std std-option docutils literal"><span class="pre">-show</span></code> options was specified, the appropriate output is produced.
If not, only a syntax check of the input is done.</p>
<p>When producing output, the output format specified by the <code class="xref std std-option docutils literal"><span class="pre">-format</span></code>
option is used.  If this was not specified, the first format in the list
which supports this type of output is chosen.</p>
<p>Some of the output formats use additional library files to do their work.
For example, the PostScript output format prepends a standard &#8220;prologue&#8221;
file to all output.  These files are found using the same search path as
the system initialization file (see above).</p>
<p>Here&#8217;s a summary of the command-line options (which can be abbreviated),
starting with the output options:</p>
<dl class="cmdoption">
<dt id="cmdoption-ifm-m">
<span id="cmdoption-ifm--map"></span><code class="descname">-m</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--map</code><code class="descclassname"> [sections]</code><a class="headerlink" href="#cmdoption-ifm-m" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a map of the game.  You can optionally specify a list of the map
sections to print.  The list is a comma-separated set of map section
numbers (starting from 1) and can include ranges.  For example, the
argument <code class="docutils literal"><span class="pre">1,3-5</span></code> would print map sections 1, 3, 4 and 5.  If the list
isn&#8217;t specified, all sections are printed.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0: </span>Optional list of map sections.</p>
</div>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-i">
<span id="cmdoption-ifm--items"></span><code class="descname">-i</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--items</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm-i" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of items which appear in the game.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-t">
<span id="cmdoption-ifm--tasks"></span><code class="descname">-t</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--tasks</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm-t" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of tasks required to solve the game.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-f">
<span id="cmdoption-ifm--format"></span><code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--format</code><code class="descclassname">=FORMAT</code><a class="headerlink" href="#cmdoption-ifm-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the output format.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-o">
<span id="cmdoption-ifm--output"></span><code class="descname">-o</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--output</code><code class="descclassname">=FILE</code><a class="headerlink" href="#cmdoption-ifm-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to the specified file, instead of stdout.</p>
</dd></dl>

<p>Next comes the auxiliary options:</p>
<dl class="cmdoption">
<dt id="cmdoption-ifm-I">
<span id="cmdoption-ifm--include"></span><code class="descname">-I</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--include</code><code class="descclassname">=DIR</code><a class="headerlink" href="#cmdoption-ifm-I" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend the specified directory to the library and include file search
path.  This option may be repeated.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-S">
<span id="cmdoption-ifm--style"></span><code class="descname">-S</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--style</code><code class="descclassname">=STYLE</code><a class="headerlink" href="#cmdoption-ifm-S" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a global style.  See <a class="reference internal" href="#customization">Customization</a> for more details.  This option
may be repeated.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0.</span></p>
</div>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-s">
<span id="cmdoption-ifm--set"></span><code class="descname">-s</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--set</code><code class="descclassname"> VAR=VALUE</code><a class="headerlink" href="#cmdoption-ifm-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a customization variable.  This overrides any settings in the input
files.  This option may be repeated.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0.</span></p>
</div>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm--noinit">
<code class="descname">--noinit</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm--noinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Don&#8217;t read your personal init file.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-v">
<span id="cmdoption-ifm--verbose"></span><code class="descname">-v</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--verbose</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Be verbose about things.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.5.</span></p>
</div>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-w">
<span id="cmdoption-ifm--nowarn"></span><code class="descname">-w</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--nowarn</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm-w" title="Permalink to this definition">¶</a></dt>
<dd><p>Don&#8217;t print warnings.</p>
</dd></dl>

<p>Finally, here are the information options:</p>
<dl class="cmdoption">
<dt id="cmdoption-ifm--show">
<code class="descname">--show</code><code class="descclassname">=TYPE</code><a class="headerlink" href="#cmdoption-ifm--show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show one of several types of information, and exit.  The <code class="docutils literal"><span class="pre">TYPE</span></code>
argument can be one of:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">path</span></code></dt>
<dd>Show the directories that are searched for library and include
files.</dd>
<dt><code class="docutils literal"><span class="pre">vars</span></code></dt>
<dd>Show a complete list of defined variables, in a format suitable
for feeding back into IFM.  See <a class="reference internal" href="vars.html"><span class="doc">Output variables</span></a>.</dd>
</dl>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm--version">
<code class="descname">--version</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm--version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the program version.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ifm-h">
<span id="cmdoption-ifm--help"></span><code class="descname">-h</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--help</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-ifm-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Just print some usage information.</p>
</dd></dl>

</div>
<div class="section" id="types-of-output">
<h2>Types of output<a class="headerlink" href="#types-of-output" title="Permalink to this headline">¶</a></h2>
<p>IFM has three different types of output (a map, a list of items, and a list
of tasks) and several different output formats, which are described in the
following sections.  Not all types of output are produced by each output
format.  The table below shows what&#8217;s available for each format.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="26%" />
<col width="8%" />
<col width="8%" />
<col width="10%" />
<col width="8%" />
<col width="8%" />
<col width="10%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Output</th>
<th class="head">PostScript</th>
<th class="head">Fig</th>
<th class="head">Tk</th>
<th class="head">Text</th>
<th class="head">Rec</th>
<th class="head">Dot</th>
<th class="head">YAML</th>
<th class="head">Raw</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Map</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>Items</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Y</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>Tasks</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>All the graphical map output formats display map sections in the same way,
so that what you get with one format looks much the same as another. <a class="footnote-reference" href="#id4" id="id1">[1]</a></p>
<div class="section" id="postscript-maps-ps">
<span id="ps"></span><span id="index-2"></span><h3>PostScript maps (<code class="docutils literal"><span class="pre">ps</span></code>)<a class="headerlink" href="#postscript-maps-ps" title="Permalink to this headline">¶</a></h3>
<p>This produces a PostScript map suitable for printing.  Several map sections
may be printed per page, and the maps are printed over as many pages as it
takes.  Automatic packing is done to try to get a good fit on the
page.  Also, portrait or landscape is chosen depending on whichever gives
the best fit.  Fonts of room and item text are scaled to fit them in the
room boxes, if required.</p>
</div>
<div class="section" id="fig-maps-fig">
<span id="fig"></span><span id="index-3"></span><h3>Fig maps (<code class="docutils literal"><span class="pre">fig</span></code>)<a class="headerlink" href="#fig-maps-fig" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0.</span></p>
</div>
<p>This produces a map which can be read (and edited) by <a class="reference external" href="http://www.xfig.org">Xfig</a>, and any other
programs which understand Fig format.  The map sections are packed to get a
best fit automatically, in a similar manner to PostScript, but since Fig
has no concept of pages, it is most useful when you&#8217;re printing each map
section individually.  There&#8217;s a utility program called <a class="reference internal" href="ifm2dev.html"><span class="doc">ifm2dev</span></a> which automatically does this.</p>
<p>Fig format is also useful if you want to print poster-sized maps over
several pages.  The <code class="xref std std-option docutils literal"><span class="pre">-M</span></code> option of <strong class="program">fig2dev</strong> (part of the
transfig package) will automatically do this.</p>
</div>
<div class="section" id="tk-drawing-commands-tk">
<span id="tk"></span><span id="index-4"></span><h3>Tk drawing commands (<code class="docutils literal"><span class="pre">tk</span></code>)<a class="headerlink" href="#tk-drawing-commands-tk" title="Permalink to this headline">¶</a></h3>
<p>This produces map commands for input to <a class="reference internal" href="tkifm.html"><span class="doc">tkifm</span></a>, a simple
graphical interface to IFM.  It isn&#8217;t very useful to produce this output
yourself&#8212;<strong class="program">tkifm</strong> does that internally to build its map pictures.
But you can control its display by setting variables in the usual way.</p>
</div>
<div class="section" id="ascii-text-text">
<span id="text"></span><span id="index-5"></span><h3>ASCII text (<code class="docutils literal"><span class="pre">text</span></code>)<a class="headerlink" href="#ascii-text-text" title="Permalink to this headline">¶</a></h3>
<p>This produces human-readable output for maps, items and tasks.  The output
should be fairly self-explanatory.</p>
</div>
<div class="section" id="recording-commands-rec">
<span id="rec"></span><span id="recording"></span><span id="index-6"></span><h3>Recording commands (<code class="docutils literal"><span class="pre">rec</span></code>)<a class="headerlink" href="#recording-commands-rec" title="Permalink to this headline">¶</a></h3>
<p>This output produces a list of commands suitable for feeding to IF
interpreters in playback mode.  All the commands in the output are
converted to uppercase.</p>
<p>In order for this to work properly, you have to give commands that the game
will understand.  The cmd attribute of rooms, links, joins and tasks can
help with this.  Currently there&#8217;s no item <code class="samp docutils literal"><span class="pre">cmd</span></code> attribute, so you
have to make sure that the item description is recognized by the game (for
<code class="samp docutils literal"><span class="pre">get</span></code> and <code class="samp docutils literal"><span class="pre">drop</span></code> commands).  Also, if a task is implicitly done
in the game without you having to type any commands (e.g., visiting a
room), you can indicate this by using <code class="samp docutils literal"><span class="pre">cmd</span> <span class="pre">none</span></code>.</p>
<p>Of course, a recording will only play back properly in an interpreter if it
provides correct game commands.  Random events can&#8217;t be dealt with by IFM,
and will probably cause playback to fail.  But you can work around this
with an interpreter that is able to fix the random seed at startup (e.g.,
<a class="reference external" href="http://frotz.sourceforge.net">Frotz</a>.  This should eliminate most (but not all) of the problems of
randomness.</p>
</div>
<div class="section" id="task-dependencies-dot">
<span id="dot"></span><span id="index-7"></span><h3>Task dependencies (<code class="docutils literal"><span class="pre">dot</span></code>)<a class="headerlink" href="#task-dependencies-dot" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0.</span></p>
</div>
<p>This produces a graph of the dependencies of tasks on each other, in
Graphviz (dot) format.  You&#8217;ll need to have <a class="reference external" href="http://www.graphviz.org">Graphviz</a> installed in order to
display the graph.</p>
<span class="target" id="raw"></span></div>
<div class="section" id="yaml-data-yaml">
<span id="index-8"></span><h3>YAML data (<code class="docutils literal"><span class="pre">yaml</span></code>)<a class="headerlink" href="#yaml-data-yaml" title="Permalink to this headline">¶</a></h3>
<p>This produces <a class="reference external" href="http://yaml.org">YAML</a> data for all output formats, intended for use by other
programs.  Each entry consists of a number of data lines, and is separated
from other entries by a blank line.  Each data line consists of an
attribute, a colon, and its value.  The attributes should be
self-explanatory. <a class="footnote-reference" href="#id5" id="id2">[2]</a></p>
</div>
<div class="section" id="raw-data-raw">
<h3>Raw data (<code class="docutils literal"><span class="pre">raw</span></code>)<a class="headerlink" href="#raw-data-raw" title="Permalink to this headline">¶</a></h3>
<p>This produces raw data for all output formats, intended for use by other
programs (and the IFM regression test suite).  Each entry consists of a
number of data lines, and is separated from other entries by a blank line.
Each data line consists of an attribute, a colon, and its value.  The
attributes should be self-explanatory (see YAML, above).</p>
<span class="target" id="index-9"></span></div>
</div>
<div class="section" id="customization">
<span id="index-10"></span><h2>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h2>
<p>You can change the appearance of many output features according to your
taste.  You do this by setting the values of the variables that control
those features.  This section tells you how to use variables&#8212;for a
complete list of the customization variables available, see <a class="reference internal" href="vars.html"><span class="doc">Output variables</span></a>.</p>
<p>As a first example, the background colour of rooms is determined by the
variable <code class="samp docutils literal"><span class="pre">room_colour</span></code>.  Its default value is <code class="docutils literal"><span class="pre">white</span></code>.  It can be
changed like this:</p>
<div class="highlight-ifm"><div class="highlight"><pre><span></span>room_colour = <span class="s">&quot;beige&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Setting a variable like this will affect all output formats.  But in some
cases you don&#8217;t want to do that.  A good example is the one above&#8212;if you
don&#8217;t have a colour printer, you may not want to have beige rooms printed
(they&#8217;ll come out greyish).  To get around that, you can set variables that
are specific to a particular output format:</p>
<div class="highlight-ifm"><div class="highlight"><pre><span></span>tk.room_colour = <span class="s">&quot;beige&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>This says to set the variable to <code class="docutils literal"><span class="pre">beige</span></code> only if producing Tk output.
The default for all other formats is still <code class="docutils literal"><span class="pre">white</span></code>.</p>
<p>You can also customize the appearance of individual rooms and links on the
map, by using different display styles.  A display style is just a group of
variable settings with a given name.  For example, suppose you&#8217;re making a
map of <em>Colossal Cave</em> and want to mark rooms where you can refill your
water bottle.  You can define a style called, say, <code class="docutils literal"><span class="pre">Water</span></code>, like this:</p>
<div class="highlight-ifm"><div class="highlight"><pre><span></span><span class="ni">style</span> <span class="n">Water</span><span class="p">;</span>
  <span class="n">room_colour</span> <span class="o">=</span> <span class="s">&quot;light blue&quot;</span><span class="p">;</span>
<span class="ni">endstyle</span><span class="p">;</span>
</pre></div>
</div>
<p>The values of variables that are set between the <code class="samp docutils literal"><span class="pre">style</span></code> and
<code class="samp docutils literal"><span class="pre">endstyle</span></code> clauses only apply to things drawn in that style.  Now, if
you declare rooms like this:</p>
<div class="highlight-ifm"><div class="highlight"><pre><span></span><span class="nc">room</span> <span class="s">&quot;At End Of Road&quot;</span><span class="p">;</span>

<span class="nc">room</span> <span class="s">&quot;Inside Building&quot;</span> <span class="kr">style</span> <span class="n">Water</span> <span class="kr">dir</span> <span class="nv">e</span> <span class="kr">go</span> <span class="kr">in</span><span class="p">;</span>
</pre></div>
</div>
<p>then the room &#8220;Inside Building&#8221; will be drawn with a light blue background.
You can customize individual links in a similar manner.</p>
<p>An alternative way to define a variable in a particular style is to use the
<code class="samp docutils literal"><span class="pre">in</span> <span class="pre">style</span></code> clause, like this:</p>
<div class="highlight-ifm"><div class="highlight"><pre><span></span>room_colour = <span class="s">&quot;light blue&quot;</span> <span class="kr">in</span> <span class="kr">style</span> <span class="n">Water</span><span class="p">;</span>
</pre></div>
</div>
<p>If a style only changes a single variable, this may be more convenient.</p>
<p>If you assign a style (say, called <code class="docutils literal"><span class="pre">newstyle</span></code>) to an object, but don&#8217;t
define it anywhere in your input, then IFM will look for a file called
<code class="file docutils literal"><span class="pre">newstyle.ifm</span></code> using the standard search path.  If the file exists,
it is expected to define style <code class="docutils literal"><span class="pre">newstyle</span></code>.  For example, you could put
the <code class="docutils literal"><span class="pre">Water</span></code> style definition above into a file called <code class="file docutils literal"><span class="pre">Water.ifm</span></code>
somewhere on the IFM search path, and it would be read automatically.  This
is useful if, for example, you want to use the same style in several
different maps.</p>
<p>You can define global styles using the <a class="reference internal" href="#cmdoption-ifm--style"><code class="xref std std-option docutils literal"><span class="pre">--style</span></code></a> command-line
option; these apply to all IFM objects.  Global styles are most useful when
setting variables that affect the overall appearance of the output, in
conjunction with the file search method described above (e.g., a file
containing general colour and font definitions).</p>
</div>
<div class="section" id="predefined-styles">
<span id="index-11"></span><h2>Predefined styles<a class="headerlink" href="#predefined-styles" title="Permalink to this headline">¶</a></h2>
<p>IFM comes with a few predefined style files, as shown in the table below:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="10%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Style</th>
<th class="head">Scope</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>helvetica</td>
<td>global</td>
<td>Use Helvetica fonts everywhere in maps</td>
</tr>
<tr class="row-odd"><td>reckless</td>
<td>global</td>
<td>Treat all tasks as safe when solving the game</td>
</tr>
<tr class="row-even"><td>verbose</td>
<td>global</td>
<td>Print verbose solver messages</td>
</tr>
<tr class="row-odd"><td>puzzle</td>
<td>room</td>
<td>Mark room as containing a puzzle</td>
</tr>
<tr class="row-even"><td>special</td>
<td>link</td>
<td>Mark link as being special in some way</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>If you create any generally useful or nice-looking styles, you might want
to send me a copy so I can include them with the next version of IFM.  The
<strong>Scope</strong> field indicates which type of IFM object it applies to.  Styles
that have global scope can meaningfully be used by the <a class="reference internal" href="#cmdoption-ifm--style"><code class="xref std std-option docutils literal"><span class="pre">--style</span></code></a>
command-line option.</p>
</div>
<div class="section" id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>IFM uses the following environment variables:</p>
<dl class="envvar">
<dt id="envvar-IFMPATH">
<code class="descname">IFMPATH</code><a class="headerlink" href="#envvar-IFMPATH" title="Permalink to this definition">¶</a></dt>
<dd><p>A colon-separated list of directories to search for IFM files.  These
directories are searched before the standard directories.</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-HOME">
<code class="descname">HOME</code><a class="headerlink" href="#envvar-HOME" title="Permalink to this definition">¶</a></dt>
<dd><p>Considered to be your home directory when looking for initialization
files.</p>
</dd></dl>

</div>
<div class="section" id="diagnostics">
<h2>Diagnostics<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h2>
<p>This section describes the possible error and warning messages which might
be produced by IFM, and what they mean.  Note that individual output
formats may print their own errors and/or warnings.  These lists only cover
the standard ones.</p>
<div class="section" id="error-messages">
<h3>Error messages<a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h3>
<p>Here&#8217;s the list of error messages.  If any errors occur, no output is
produced.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">invalid</span> <span class="pre">repeat</span> <span class="pre">count</span></code></dt>
<dd>You&#8217;ve given a repeat count of zero or less for a string or
direction, which doesn&#8217;t make much sense.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">no</span> <span class="pre">last</span> <span class="pre">room</span></code></dt>
<dd>You&#8217;ve given the very first room a dir clause.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">no</span> <span class="pre">[type]</span> <span class="pre">referred</span> <span class="pre">to</span> <span class="pre">by</span> <span class="pre">'last'</span></code></dt>
<dd>You&#8217;ve said last to refer to the last room, item or task that was
defined, but none of that type of object have been defined yet.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">no</span> <span class="pre">[type]</span> <span class="pre">referred</span> <span class="pre">to</span> <span class="pre">by</span> <span class="pre">'it'</span></code></dt>
<dd>You&#8217;ve said <code class="samp docutils literal"><span class="pre">it</span></code> to refer to the last room, item or task
tag that was mentioned in the current command, but no tags of that
type of object have been mentioned.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">no</span> <span class="pre">items</span> <span class="pre">referred</span> <span class="pre">to</span> <span class="pre">by</span> <span class="pre">'them'</span></code></dt>
<dd>You&#8217;ve said <code class="samp docutils literal"><span class="pre">them</span></code> to refer to all the items mentioned in
the current command, but no items have been mentioned.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">[type]</span> <span class="pre">tag</span> <span class="pre">[name]</span> <span class="pre">already</span> <span class="pre">defined</span></code></dt>
<dd>You&#8217;ve given two similar objects the same tag name.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">[type]</span> <span class="pre">tag</span> <span class="pre">[name]</span> <span class="pre">not</span> <span class="pre">defined</span></code></dt>
<dd>You&#8217;ve referred to a tag name that hasn&#8217;t been defined anywhere in
the input.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">[type]</span> <span class="pre">tag</span> <span class="pre">[name]</span> <span class="pre">not</span> <span class="pre">yet</span> <span class="pre">defined</span></code></dt>
<dd>You&#8217;re referring to a tag at a point where it hasn&#8217;t yet been
defined, in a situation where it must be (e.g., the room
<code class="samp docutils literal"><span class="pre">from</span></code> clause, or a command that modifies attributes of a
previously-defined object).</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">can't</span> <span class="pre">modify</span> <span class="pre">[name]</span> <span class="pre">attribute</span></code></dt>
<dd>You&#8217;re attempting to modify an attribute of an object which can&#8217;t be
changed once it&#8217;s set (e.g., a tag name).  This is because it would
create inconsistencies between objects.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">can't</span> <span class="pre">link</span> <span class="pre">[name1]</span> <span class="pre">and</span> <span class="pre">[name2]</span> <span class="pre">--</span> <span class="pre">different</span> <span class="pre">map</span> <span class="pre">sections</span></code></dt>
<dd>The rooms you&#8217;re trying to link are on different sections of the
map, and have no spatial relation to one another.  You might have
forgotten to link a previous room in the list.  Or you meant to use
a join.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">can't</span> <span class="pre">link</span> <span class="pre">[name]</span> <span class="pre">to</span> <span class="pre">itself</span> <span class="pre">without</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">one</span> <span class="pre">direction</span></code></dt>
<dd>To link a room to itself, you need to specify at least one
direction.  Otherwise, the link goes nowhere.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">links</span> <span class="pre">between</span> <span class="pre">[name1]</span> <span class="pre">and</span> <span class="pre">[name2]</span> <span class="pre">have</span> <span class="pre">differing</span> <span class="pre">lengths</span></code></dt>
<dd>You&#8217;ve defined more than one link or join between the given rooms,
but given them different values for the <code class="samp docutils literal"><span class="pre">length</span></code> attribute.
This isn&#8217;t allowed.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">more</span> <span class="pre">than</span> <span class="pre">one</span> <span class="pre">task</span> <span class="pre">needs</span> <span class="pre">to</span> <span class="pre">follow</span> <span class="pre">[task]</span> <span class="pre">immediately</span></code></dt>
<dd>You&#8217;ve given two or more tasks an identical <code class="samp docutils literal"><span class="pre">follow</span></code> tag.
Only one task can &#8220;follow&#8221; a given task.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">[num]</span> <span class="pre">cyclic</span> <span class="pre">task</span> <span class="pre">dependencies</span></code></dt>
<dd>The game isn&#8217;t solvable because there&#8217;s one or more chains of tasks
where each must be done before the next, but the last must be done
before the first.</dd>
<dt><code class="docutils literal"><span class="pre">error:</span> <span class="pre">variable</span> <span class="pre">[name]</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined</span></code></dt>
<dd>A customization variable needed by an output format is not
defined.  You should only see these errors if you have modified or
overridden the system initialization file.  The remedy is to define
the variable somewhere.</dd>
</dl>
</div>
<div class="section" id="warning-messages">
<h3>Warning messages<a class="headerlink" href="#warning-messages" title="Permalink to this headline">¶</a></h3>
<p>Here&#8217;s the list of warning messages.  If only warnings occur, then output
is still produced.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">attribute</span> <span class="pre">[attr]</span> <span class="pre">ignored</span> <span class="pre">--</span> <span class="pre">no</span> <span class="pre">implicit</span> <span class="pre">link</span></code></dt>
<dd>You&#8217;ve given a room with no <code class="samp docutils literal"><span class="pre">dir</span></code> clause an attribute that is
associated with that link (e.g., <code class="samp docutils literal"><span class="pre">oneway</span></code>).  Most likely
you&#8217;re putting the attribute in the wrong place&#8212;if you want, say,
a join to have one of these attributes, you must define it using the
standalone <code class="samp docutils literal"><span class="pre">join</span></code> command instead.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">link</span> <span class="pre">from</span> <span class="pre">[name1]</span> <span class="pre">to</span> <span class="pre">[name2]</span> <span class="pre">outside</span> <span class="pre">grid</span></code></dt>
<dd>The destination room for a link is not in a compass direction from
the last specified position.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">rooms</span> <span class="pre">[name1]</span> <span class="pre">and</span> <span class="pre">[name2]</span> <span class="pre">overlap</span></code></dt>
<dd>The coordinates of the specified rooms are the same.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">room</span> <span class="pre">[name]</span> <span class="pre">crossed</span> <span class="pre">by</span> <span class="pre">link</span> <span class="pre">line</span> <span class="pre">between</span> <span class="pre">[name]</span> <span class="pre">and</span> <span class="pre">[name]</span></code></dt>
<dd>A link line passes through the coordinates of a room.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">room</span> <span class="pre">[name]</span> <span class="pre">has</span> <span class="pre">multiple</span> <span class="pre">[dir]</span> <span class="pre">links</span></code></dt>
<dd>More than one link connects to the specified room in a particular
direction.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">can't</span> <span class="pre">solve</span> <span class="pre">game</span> <span class="pre">([num]</span> <span class="pre">tasks</span> <span class="pre">not</span> <span class="pre">done)</span></code></dt>
<dd>The game is unsolvable according to the current set of tasks.  This
can be due to part of the map being inaccessible, or IFM stupidly
choosing the wrong order of doing things.  Hopefully the latter
shouldn&#8217;t happen very often.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">can't</span> <span class="pre">solve</span> <span class="pre">game</span> <span class="pre">([num]</span> <span class="pre">tasks</span> <span class="pre">ignored)</span></code></dt>
<dd>The game is unsolvable because you&#8217;re explicitly ignoring tasks
and/or items, using the <code class="samp docutils literal"><span class="pre">ignore</span></code> attribute.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">no</span> <span class="pre">matching</span> <span class="pre">style</span> <span class="pre">command</span></code></dt>
<dd>You&#8217;ve used <code class="samp docutils literal"><span class="pre">endstyle</span></code> without a matching <code class="samp docutils literal"><span class="pre">style</span></code>.  You
probably have too many <code class="samp docutils literal"><span class="pre">endstyle</span></code> commands.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">unexpected</span> <span class="pre">style:</span> <span class="pre">[name]</span> <span class="pre">(expected</span> <span class="pre">[name])</span></code></dt>
<dd>You&#8217;ve used <code class="samp docutils literal"><span class="pre">endstyle</span></code> with an argument that doesn&#8217;t match the
argument of the corresponding <code class="samp docutils literal"><span class="pre">style</span></code>.  You might have missed
out another <code class="samp docutils literal"><span class="pre">endstyle</span></code> somewhere, or have too many.</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">style</span> <span class="pre">[name]</span> <span class="pre">referenced</span> <span class="pre">but</span> <span class="pre">not</span> <span class="pre">defined</span></code></dt>
<dd>An object in your input uses the specified style, but it isn&#8217;t
defined anywhere and the style definition file <code class="file docutils literal"><span class="pre">name.ifm</span></code>
doesn&#8217;t exist in the search path (or if it does, it doesn&#8217;t define
the required style).</dd>
<dt><code class="docutils literal"><span class="pre">warning:</span> <span class="pre">[syntax]</span> <span class="pre">is</span> <span class="pre">obsolete</span> <span class="pre">--</span> <span class="pre">use</span> <span class="pre">[phrase]</span> <span class="pre">instead</span></code></dt>
<dd>You&#8217;ve used an obsolete syntax.  Consult the documentation and then
try the suggested alternative instead.  Note that multiple uses of
the same obsolete syntax only result in a single warning.</dd>
</dl>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Well, that&#8217;s the goal anyway.  But there are still some very minor
differences.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Programmer-speak for &#8220;I couldn&#8217;t be bothered to document it.&#8221;</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using IFM</a><ul>
<li><a class="reference internal" href="#running-the-program">Running the program</a></li>
<li><a class="reference internal" href="#types-of-output">Types of output</a><ul>
<li><a class="reference internal" href="#postscript-maps-ps">PostScript maps (<code class="docutils literal"><span class="pre">ps</span></code>)</a></li>
<li><a class="reference internal" href="#fig-maps-fig">Fig maps (<code class="docutils literal"><span class="pre">fig</span></code>)</a></li>
<li><a class="reference internal" href="#tk-drawing-commands-tk">Tk drawing commands (<code class="docutils literal"><span class="pre">tk</span></code>)</a></li>
<li><a class="reference internal" href="#ascii-text-text">ASCII text (<code class="docutils literal"><span class="pre">text</span></code>)</a></li>
<li><a class="reference internal" href="#recording-commands-rec">Recording commands (<code class="docutils literal"><span class="pre">rec</span></code>)</a></li>
<li><a class="reference internal" href="#task-dependencies-dot">Task dependencies (<code class="docutils literal"><span class="pre">dot</span></code>)</a></li>
<li><a class="reference internal" href="#yaml-data-yaml">YAML data (<code class="docutils literal"><span class="pre">yaml</span></code>)</a></li>
<li><a class="reference internal" href="#raw-data-raw">Raw data (<code class="docutils literal"><span class="pre">raw</span></code>)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customization">Customization</a></li>
<li><a class="reference internal" href="#predefined-styles">Predefined styles</a></li>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li><a class="reference internal" href="#diagnostics">Diagnostics</a><ul>
<li><a class="reference internal" href="#error-messages">Error messages</a></li>
<li><a class="reference internal" href="#warning-messages">Warning messages</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
      <li>Previous: <a href="example.html" title="previous chapter">Mapping and solving example</a></li>
      <li>Next: <a href="language.html" title="next chapter">Language</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1998-2022, Glenn Hutchings.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/usage.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>